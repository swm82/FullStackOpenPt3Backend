{"version":3,"sources":["Components/Search.js","Components/PersonForm.js","Components/Names.js","services/phonebook.js","Components/Confirmation.js","Components/Error.js","Components/App.js","index.js"],"names":["Search","props","value","newSearch","onChange","handleSearchChange","PersonForm","name","newInfo","handleChange","number","type","onClick","addName","Names","searchResults","map","person","deletePerson","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Confirmation","className","Error","error","App","useState","persons","setPersons","setNewInfo","setNewSearch","setSearchResults","confirmation","setConfirmation","setError","useEffect","phonebook","filter","toLowerCase","includes","e","target","preventDefault","isFound","find","update","window","confirm","console","log","prevPerson","catch","alert","concat","setTimeout","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.117e430f.chunk.js","sourcesContent":["import React from 'react';\n\nconst Search = (props) => <div>filter by name: <input value={props.newSearch} onChange ={props.handleSearchChange} /></div>\n\n\n\nexport default Search","import React from 'react'\n\nconst PersonForm = (props) => {\n\n    return (\n        <form>\n        <div>\n          name: <input name='name' value={props.newInfo.name} onChange={props.handleChange}/>\n        </div>\n        <div>number: <input name='number' value={props.newInfo.number} onChange={props.handleChange} /></div>\n        <div>\n          <button type=\"submit\" onClick={props.addName}>add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Names = (props) => {\n    return (\n        <div>\n            <ul>\n                {props.searchResults.map((person) =>\n                    <li key={person.name}>{person.name} {person.number}<button onClick={() => props.deletePerson(person)}>Delete</button></li>\n                )}\n            </ul>\n        </div>\n    )\n}\n\nexport default Names","import axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    return axios.delete(`${baseUrl}${id}`)\n}\n\nconst update = (id, person) => {\n    const request = axios.put(`${baseUrl}${id}`, person)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, update }","import React from 'react'\n\nconst Confirmation = ({ name }) => {\n    if (name === null) return null;\n    return (\n        <div className=\"confirmation\">\n            Added <strong>{name}</strong>\n        </div>\n    )\n}\n\nexport default Confirmation","import React from 'react'\n\nconst Error = ({ error }) => {\n    if (error === null) return null;\n    return (\n        <div className=\"error\">\n            <strong>{error}</strong>\n        </div>\n    )\n}\n\nexport default Error","import React, { useEffect, useState } from 'react'\nimport Search from './Search';\nimport PersonForm from './PersonForm';\nimport Names from './Names'\nimport phonebook from '../services/phonebook'\nimport Confirmation from './Confirmation'\nimport Error from './Error'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newInfo, setNewInfo ] = useState({\n    name: '',\n    number: ''\n  });\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ searchResults, setSearchResults ] = useState([]);\n  const [ confirmation, setConfirmation ] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  // Get data from server\n  useEffect(() => {\n    phonebook\n      .getAll()\n      .then(response => setPersons(response))\n  }, [])\n\n  const addName = (e) => {\n    e.preventDefault();\n    const isFound = persons.find(person => person.name === newInfo.name);\n    let update = false;\n    // if user in database, ask to update.  else add to database\n    if (isFound) {\n      update = window.confirm(`${newInfo.name} is already in phonebook.  Would you like to replace the info?`);\n      console.log(update)\n    }\n    const person = {\n      name: newInfo.name,\n      number: newInfo.number\n    };\n    if (!isFound) {\n      phonebook\n        .create(person)\n        .then(response => {\n          setPersons(persons.concat(response));\n          setConfirmation(person.name)\n          setTimeout(() => {\n            setConfirmation(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setError(error.response.data.error)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n    } else if (update) {\n      phonebook\n        .update(isFound.id, person)\n        .then(response => {\n          setPersons(persons.map(prevPerson => prevPerson.name !== person.name ? prevPerson : response))\n        })\n        .catch(error => {\n          alert(`${person.name} was already deleted from server`);\n          setPersons(persons.filter(prevPerson => person.name !== prevPerson.name))\n        })\n    }\n    setNewInfo({\n      name: '',\n      number: ''\n    });\n\n  }\n  const handleChange = e => {\n    setNewInfo({...newInfo, [e.target.name]: e.target.value})\n  }\n\n  const handleSearchChange = (e) => {\n    setNewSearch(e.target.value);\n  }\n\n  const deletePerson = (personToDelete) => {\n    if (window.confirm(`Delete ${personToDelete.name}`)) {\n      phonebook\n        .deletePerson(personToDelete.id)\n        .then(setPersons(persons.filter(person => person.id !== personToDelete.id)))\n    }\n  }\n\n  useEffect(() => {\n    const person = persons.filter((person) => {\n      return person.name.toLowerCase().includes(newSearch.toLowerCase())\n    });\n    setSearchResults(person);\n  }, [newSearch, persons]);\n\n  return (\n    <div>\n      <Confirmation name={confirmation} />\n      <Error error={error} />\n      <h2>Phonebook</h2>\n      <Search newSearch={newSearch} handleSearchChange={handleSearchChange} />\n\n      <h2>Add new</h2>\n      <PersonForm newInfo={newInfo} handleChange={handleChange} addName={addName} />\n\n      <h2>Numbers</h2>\n      <Names searchResults={searchResults} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}